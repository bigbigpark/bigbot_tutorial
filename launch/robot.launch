<launch>
  <arg name="ns" default="bigbot"/>
  <arg name="config" default="front_laser" />
  <arg name="config_id" default="0"/>
  <arg name="use_global_tf" default="true"/>

  <arg name="x" default="0" />
  <arg name="y" default="0" />
  <arg name="z" default="0" />
  <arg name="roll" default="0" />
  <arg name="pitch" default="0" />
  <arg name="yaw" default="0" />

  <param name="map_frame"       value="map"/>
  <!-- <param name="odom_frame"      value="$(arg ns)/odom"/> -->
  <param name="base_link_frame" value="$(arg ns)/base_link"/>
  <param name="world_frame"     value="map"/>


  <!-- Load Jackal's description -->
  <include file="$(find bigbot_tutorial)/launch/description.launch">
    <arg name="ns" value="$(arg ns)"/>
    <arg name="config" value="$(arg config)" />
    <arg name="config_id" default="$(arg config_id)"/>
  </include>

  <!-- Load Jackal's controllers and  teleop nodes. -->
  <include file="$(find bigbot_tutorial)/launch/control.launch">
    <arg name="ns" value="$(arg ns)"/>
  </include>


  <!-- Spawn Jackal -->
  <node name="spawner_model" pkg="gazebo_ros" type="spawn_model" ns="$(arg ns)"
  args="-urdf -param /$(arg ns)/robot_description -model $(arg ns) 
  -x $(arg x) -y $(arg y) -z $(arg z) -R $(arg roll) -P $(arg pitch) -Y $(arg yaw)" />

  <group if="$(arg use_global_tf)">
    <node pkg="tf" type="static_transform_publisher" name="static_map_odom_tf" ns="$(arg ns)"
        args="$(arg x) $(arg y) $(arg z) 0 0 0 map $(arg ns)/base_link 50"/>
  </group>

</launch>
